---
import Layout from "../layouts/Layout.astro";
const show_success = Astro.url.searchParams.get("success") === "true";
---
<Layout title="Starlight Studio - Contact Us" description="Fill out the form to send us a message.">
<!--
  This example requires Tailwind CSS v2.0+ 
  
  This example requires some changes to your config:
  
  ```
  // tailwind.config.js
  module.exports = {
    // ...
    plugins: [
      // ...
      require('@tailwindcss/forms'),
    ],
  }
  ```
-->
<div class="relative bg-white">
  <div class="absolute inset-0">
    <div class="absolute inset-y-0 left-0 w-1/2 bg-gray-50"></div>
  </div>
  <div class="relative max-w-7xl mx-auto lg:grid lg:grid-cols-5">
    <div class="bg-gray-50 py-16 px-4 sm:px-6 lg:col-span-2 lg:px-8 lg:py-24 xl:pr-12">
      <div class="max-w-lg mx-auto">
        <h2 class="text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl">Get in touch</h2>
        <p class="mt-3 text-lg leading-6 text-gray-500">We would love to hear from you! Email us or use the form below, and we will respond via email as soon as we can.</p>
        <dl class="mt-8 text-base text-gray-500">
          <div class="mt-3">
            <dt class="sr-only">Email</dt>
            <dd class="flex">
              <!-- Heroicon name: outline/mail -->
              <svg class="flex-shrink-0 h-6 w-6 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              <span class="ml-3">starlightstudiony@gmail.com</span>
            </dd>
          </div>
        </dl>
      </div>
    </div>
    <div class="bg-white py-16 px-4 sm:px-6 lg:col-span-3 lg:py-24 lg:px-8 xl:pl-12">
      <div class="max-w-lg mx-auto lg:max-w-none">
        <form action="/api/message" method="POST" class="grid grid-cols-1 gap-y-6">
          <div>
            <label for="full-name" class="sr-only">Full name</label>
            <input type="text" name="full-name" id="full-name" autocomplete="name" class="block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-rose-500 focus:border-rose-500 border-gray-300 rounded-md" placeholder="Full name">
          </div>
          <div>
            <label for="email" class="sr-only">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" class="block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-rose-500 focus:border-rose-500 border-gray-300 rounded-md" placeholder="Email">
          </div>
          <div>
            <label for="phone" class="sr-only">Phone</label>
            <input type="text" name="phone" id="phone" autocomplete="tel" class="block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-rose-500 focus:border-rose-500 border-gray-300 rounded-md" placeholder="Phone">
          </div>
          <div>
            <label for="message" class="sr-only">Message</label>
            <textarea id="message" name="message" rows="4" class="block w-full shadow-sm py-3 px-4 placeholder-gray-500 focus:ring-rose-500 focus:border-rose-500 border border-gray-300 rounded-md" placeholder="Message"></textarea>
          </div>
          <div>
            <button type="submit" class="inline-flex justify-center py-3 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div
		class={`${
			show_success ? "fixed" : "hidden"
		} bottom-0 inset-x-0 pb-2 sm:pb-5`}
		id="success-banner"
	>
		<div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
			<div
				class="p-2 rounded-lg bg-green-600 shadow-lg sm:p-3"
			>
				<div
					class="flex items-center justify-between flex-wrap"
				>
					<div
						class="w-0 flex-1 flex items-center"
					>
						<span
							class="flex p-2 rounded-lg bg-green-800"
						>
							<svg
								class="h-6 w-6 text-white"
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke="currentColor"
								aria-hidden="true"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"
								></path>
							</svg>
						</span>
						<p
							class="ml-3 font-medium text-white truncate"
						>
							<span class="md:hidden"
								>Success! We
								have recieved
								your message
								and will
								get back to you with more information
								shortly.</span
							>
							<span
								class="hidden md:inline"
								>Success! We
								have recieved
								your message and will
								get back to you with more information
								shortly!</span
							>
						</p>
					</div>
					<div
						class="order-2 flex-shrink-0 sm:order-3 sm:ml-2"
					>
						<button
							id="dismiss-sucess"
							type="button"
							class="-mr-1 flex p-2 rounded-md hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-white"
						>
							<span class="sr-only"
								>Dismiss</span
							>
							<svg
								class="h-6 w-6 text-white"
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke="currentColor"
								aria-hidden="true"
							>
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M6 18L18 6M6 6l12 12"
								></path>
							</svg>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>

</Layout>
<script>
	const success_banner = document.getElementById(
		"success-banner"
	) as HTMLDivElement;
	const dismiss_button = document.getElementById(
		"dismiss-sucess"
	) as HTMLButtonElement;
	dismiss_button.addEventListener("click", () => {
		success_banner.classList.add("hidden");
	});
</script>
